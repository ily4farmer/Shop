(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},47:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},56:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(18),a=c.n(r),s=(c(42),c(10)),i=c(21),o=(c(43),c(8)),l=c(13),u=(c(47),c.p+"static/media/close.1452bf88.svg"),j=c(1),d=function(e){var t=e.chapter,c=e.setburger;return console.log(t[0].rid),Object(j.jsx)("div",{className:"burger",children:Object(j.jsxs)("div",{className:"burger-container",children:[Object(j.jsx)("div",{onClick:function(){return c(!1)},className:"burger__btn",children:Object(j.jsx)("img",{src:u,alt:"close"})}),Object(j.jsxs)("nav",{className:"burger__list",children:[Object(j.jsx)("li",{className:"burger__item",children:Object(j.jsx)(l.b,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),t.map((function(e){return Object(j.jsx)("li",{className:"burger__item",children:Object(j.jsx)(l.b,{to:"/".concat(e.rid),children:e.rname})},e.rid+1)}))]})]})})},b=c(3),h=(c(51),function(e){var t=e.item,c=Object(o.b)(),r=Object(o.c)((function(e){return e.product.product})),a=Object(n.useState)(""),l=Object(i.a)(a,2),u=l[0],d=l[1];return Object(j.jsx)("li",{className:"chapter__item",children:Object(j.jsxs)("form",{className:"form",action:"#",children:[Object(j.jsx)("p",{className:"chapter__id",children:t.gid}),Object(j.jsx)("p",{className:"form__name",children:t.gname}),Object(j.jsx)("p",{className:"form__price",children:t.gprice}),Object(j.jsx)("input",{className:"form__input",value:u,onChange:function(e){return function(e,n){var a=e.target.value,i=r.filter((function(e){return e.id!==n}));if(a<=0){d("");var o=r.filter((function(e){return e.id!==n}));return c({type:"PRODUCT_ADD",payload:Object(s.a)(o)})}d(a);var l=a*t.gprice,u={id:t.gid,price:t.gprice,amount:a,sum:l};c({type:"PRODUCT_ADD",payload:[].concat(Object(s.a)(i),[u])})}(e,t.gid)},type:"number"}),Object(j.jsx)("p",{className:"form__sum",children:null===u?0:u*t.gprice})]})},t.gid)}),p=(c(52),function(e){var t=e.item;return Object(j.jsx)("div",{className:"chapter",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"chapter-block",children:[Object(j.jsx)("h1",{className:"chapter__title",children:t.rname}),Object(j.jsx)("ul",{className:"chapter__list",children:t.goods.map((function(e){return Object(j.jsx)(h,{item:e},e.gid)}))})]})})})}),m=(c(53),function(){return Object(j.jsx)("section",{className:"home",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"home-block",children:[Object(j.jsx)("h1",{className:"home__title",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(j.jsx)("p",{className:"home__subtitle",children:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0431\u044b\u043b \u0441\u0434\u0435\u043b\u0430\u043d \u0432 \u0443\u0447\u0435\u0431\u043d\u044b\u0445 \u0446\u0435\u043b\u044f\u0445"})]})})})}),O=function(e){var t=e.chapter;return Object(j.jsxs)(b.c,{children:[Object(j.jsx)(b.a,{path:"/",component:m,exact:!0}),t.map((function(e){return Object(j.jsx)(b.a,{path:"/".concat(e.rid),exact:!0,children:Object(j.jsx)(p,{item:e},e)},e)}))]})},f=(c(54),c.p+"static/media/menu.5353ca00.svg"),x=c.p+"static/media/basket.adcc4036.svg",_=function(e){var t=e.setburger;return Object(j.jsx)("header",{className:"header",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"header-block",children:[Object(j.jsx)("div",{onClick:function(){return t(!0)},className:"header__btn",children:Object(j.jsx)("img",{src:f,alt:"menu"})}),Object(j.jsx)("div",{className:"header__basket",children:Object(j.jsx)("img",{src:x,alt:"basket"})})]})})})},v=c(26),g=c.n(v),N=c(20),y=c(36),k=(c(56),function(){var e=Object(o.c)((function(e){return e.product.product})),t=Object(s.a)(e),c=0;if(t.length>0){console.log(t);var n=t.map((function(e){return e.sum}));console.log(n);var r,a=Object(N.a)(n);try{for(a.s();!(r=a.n()).done;){c+=r.value}}catch(i){a.e(i)}finally{a.f()}}return Object(j.jsxs)("span",{children:["\u041e\u0431\u0449\u0430\u044f\u044f \u0441\u0443\u043c\u043c\u0430: ",e.length>0?c:null]})}),D=c(27),C=c.n(D),T=function(){var e=Object(o.c)((function(e){return e.product.product}));function t(){return(t=Object(y.a)(g.a.mark((function t(){var c,n,r,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=new FormData,n=Object(N.a)(e);try{for(n.s();!(r=n.n()).done;)a=r.value,c.append("product[".concat(a.id,"]"),a.amount)}catch(s){n.e(s)}finally{n.f()}return t.next=5,C()({method:"post",url:"https://datainlife.ru/junior_task/add_basket.php",data:c,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 5:return t.next=7,C.a.get("https://datainlife.ru/junior_task/add_basket.php").then((function(e){console.log(e)}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"footer-block",children:[Object(j.jsx)(k,{}),Object(j.jsx)("button",{onClick:function(){return t.apply(this,arguments)},className:"footer__btn",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})})})},w=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.chapter.chapter})),c=Object(n.useState)(!1),r=Object(i.a)(c,2),a=r[0],u=r[1];return Object(n.useEffect)((function(){fetch("https://datainlife.ru/junior_task/get_products.php").then((function(e){return e.json()})).then((function(t){e({type:"GET__CHAPTER",payload:Object(s.a)(t)})}))}),[e]),Object(j.jsxs)(l.a,{children:[Object(j.jsx)(_,{setburger:u}),a?Object(j.jsx)(d,{setburger:u,chapter:t}):null,Object(j.jsx)(O,{chapter:t}),Object(j.jsx)(T,{})]})},E=c(15),R=c(37),A=c(14),P={chapter:[]},S="GET__CHAPTER",U={product:[]},G="PRODUCT_ADD",H=Object(E.combineReducers)({chapter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(A.a)(Object(A.a)({},e),{},{chapter:t.payload});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(A.a)(Object(A.a)({},e),{},{product:t.payload});default:return e}}}),J=Object(E.createStore)(H,Object(R.composeWithDevTools)());a.a.render(Object(j.jsx)(o.a,{store:J,children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.f1056385.chunk.js.map