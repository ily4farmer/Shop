{"version":3,"sources":["img/close.svg","Components/Burger/Burger.js","Components/ChapterItem/ChapterItem.js","Components/Сhapter/Сhapter.js","Route/Home/Home.js","Route/Routers.js","img/menu.svg","img/basket.svg","Components/Header/Header.js","Components/Sum/Sum.js","Components/Footer/Footer.js","App.js","Redux/chapterReducer.js","Redux/productReducer.js","Redux/index.js","index.js"],"names":["Burger","chapter","setburger","console","log","rid","className","onClick","src","close","alt","to","map","item","rname","ChapterItem","dispatch","useDispatch","product","useSelector","state","useState","value","setValue","action","gid","gname","gprice","onChange","e","id","amount","target","newArr","filter","type","payload","sum","data","price","inputHandler","Сhapter","goods","Home","Routers","path","component","exact","i","Header","menu","basket","Sum","a","length","arr","Footer","body","FormData","elem","append","axios","method","url","headers","then","response","catch","error","get","App","burger","useEffect","fetch","json","defaultState","GET__CHAPTER","PRODUCT_ADD","reducer","combineReducers","store","createStore","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f1056385.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/close.1452bf88.svg\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport \"./Burger.sass\"\r\nimport close from \"../../img/close.svg\"\r\n\r\nconst Burger = ({chapter, setburger}) => {\r\n    console.log(chapter[0].rid);\r\n\r\n    return (\r\n        <div className=\"burger\">\r\n            <div className=\"burger-container\">\r\n                <div onClick={() => setburger(false)} className=\"burger__btn\">\r\n                    <img src={close} alt=\"close\" />\r\n                </div>\r\n                <nav className=\"burger__list\">\r\n                    <li className=\"burger__item\"><Link to=\"/\">Главная</Link></li>\r\n                    {chapter.map((item)=> <li key={item.rid + 1}  className=\"burger__item\"><Link to={`/${item.rid}`}>{item.rname}</Link></li>)}\r\n                </nav>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Burger\r\n","import React from 'react'\r\nimport \"./ChapterItem.sass\"\r\nimport { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst ChapterItem = ({item}) => {\r\n    const dispatch = useDispatch()\r\n    const product = useSelector(state => state.product.product)\r\n    const [value, setValue] = useState('')\r\n   \r\n    function inputHandler(e, id) {\r\n        const amount = e.target.value;\r\n        // Удаление одинаковых объектов из product\r\n        const newArr = product.filter(item => item.id !== id)\r\n        if (amount <= 0) {\r\n            setValue('')\r\n            // Т.к. в к-во продукта = 0, удаляем данный продук из store\r\n            const newArr = product.filter(item => item.id !== id)\r\n            return dispatch({type: \"PRODUCT_ADD\", payload:[...newArr]})\r\n        } else {\r\n            setValue(amount)\r\n            const sum = amount * item.gprice\r\n            const data = {\r\n                id: item.gid,\r\n                price: item.gprice,\r\n                amount: amount,\r\n                sum: sum\r\n            }\r\n            dispatch({type: \"PRODUCT_ADD\", payload:[...newArr, data]})\r\n        }\r\n    }\r\n    return (\r\n        <li className=\"chapter__item\" key={item.gid}>\r\n            <form className=\"form\" action=\"#\">\r\n                <p className=\"chapter__id\">{item.gid}</p>\r\n                <p className=\"form__name\">{item.gname}</p>\r\n                <p className=\"form__price\">{item.gprice}</p>\r\n                <input className=\"form__input\" value={value} onChange={(e) => inputHandler(e, item.gid)} type=\"number\" />\r\n                <p className=\"form__sum\">{value === null ? 0 : value * item.gprice}</p>\r\n            </form>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ChapterItem\r\n","import React from 'react'\r\nimport ChapterItem from '../ChapterItem/ChapterItem'\r\nimport './Chapter.sass'\r\n\r\nconst Сhapter = ({item}) => {\r\n    return (\r\n        <div className=\"chapter\">\r\n            <div className=\"container\">\r\n                <div className=\"chapter-block\">\r\n                    <h1 className=\"chapter__title\">{item.rname}</h1>\r\n                    <ul className=\"chapter__list\">\r\n                        {item.goods.map(item => <ChapterItem key={item.gid} item={item}/>)}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Сhapter\r\n","import React from 'react'\r\nimport \"./Home.sass\"\r\n\r\nconst Home = () => {\r\n    return (\r\n        <section className=\"home\">\r\n            <div className=\"container\">\r\n                <div className=\"home-block\">\r\n                    <h1 className=\"home__title\">Главная страница</h1>\r\n                    <p className=\"home__subtitle\">Данный проект был сделан в учебных целях</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","\r\nimport React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Chapter from \"../Components/Сhapter/Сhapter\"\r\nimport Home from './Home/Home'\r\n\r\nconst Routers = ({chapter}) => {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" component={Home} exact={true}/>\r\n            {chapter.map((i)=> <Route key={i} path={`/${i.rid}`} exact={true}><Chapter key={i} item={i}/></Route>)}\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Routers\r\n","export default __webpack_public_path__ + \"static/media/menu.5353ca00.svg\";","export default __webpack_public_path__ + \"static/media/basket.adcc4036.svg\";","import React from 'react'\r\nimport \"./Header.sass\"\r\nimport menu from \"../../img/menu.svg\"\r\nimport basket from \"../../img/basket.svg\"\r\n\r\nconst Header = ({setburger}) => {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"container\">\r\n                <div className=\"header-block\">\r\n                    <div onClick={() => setburger(true)} className=\"header__btn\">\r\n                        <img src={menu} alt=\"menu\" />\r\n                    </div>\r\n                    <div className=\"header__basket\">\r\n                        <img src={basket} alt=\"basket\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Sum = () => {\r\n    const product = useSelector(state => state.product.product);\r\n    const a = [...product]\r\n    let sum = 0\r\n    if (a.length > 0) {\r\n        console.log(a);\r\n        const arr = a.map(item => item.sum)\r\n        console.log(arr);\r\n        for (const item of arr) {\r\n            sum += item\r\n        }\r\n    }\r\n\r\n    return <span>Общаяя сумма: {product.length > 0 ? sum : null}</span>\r\n}\r\n\r\nexport default Sum\r\n","import React from 'react'\r\nimport \"./Footer.sass\"\r\nimport Sum from \"../Sum/Sum\"\r\nimport { useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\n\r\nconst Footer = () => {\r\n    const product = useSelector(state => state.product.product)\r\n\r\n    async function productData() {\r\n        const body = new FormData();\r\n        for (const elem of product) {\r\n            body.append(`product[${elem.id}]`, elem.amount);\r\n        }\r\n        await axios({\r\n            method: 'post',\r\n            url: 'https://datainlife.ru/junior_task/add_basket.php',\r\n            data: body,\r\n            headers: { \"Content-Type\": \"multipart/form-data\" }\r\n        })\r\n        .then(function (response) {\r\n            console.log(response);\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n        await axios.get(`https://datainlife.ru/junior_task/add_basket.php`)\r\n        .then(response => {\r\n          console.log(response);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <footer className=\"footer\">\r\n            <div className=\"container\">\r\n                <div className=\"footer-block\">\r\n                    <Sum/>\r\n                    <button onClick={productData} className=\"footer__btn\">В корзину</button>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React, { useEffect, useState } from 'react'\nimport \"./App.sass\"\nimport { useDispatch, useSelector } from 'react-redux'\nimport { HashRouter } from 'react-router-dom'\nimport Burger from './Components/Burger/Burger'\nimport Routers from './Route/Routers'\nimport Header from './Components/Header/Header'\nimport Footer from './Components/Footer/Footer'\n\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const chapter =  useSelector(state => state.chapter.chapter);\n  const [burger, setburger] = useState(false);\n\n  useEffect(()=> {\n    fetch(`https://datainlife.ru/junior_task/get_products.php`)\n    .then(response => response.json())\n      .then(response => {\n        dispatch({type: \"GET__CHAPTER\", payload: [...response]});\n      })\n  }, [dispatch])\n\n  return (\n    <HashRouter>\n        <Header setburger={setburger}/>\n        {/* Показ боковой панели */}\n        { burger ? <Burger setburger={setburger} chapter={chapter}/> : null}\n        <Routers chapter={chapter}/>\n        <Footer/>\n    </HashRouter>\n    \n  )\n}\n\nexport default App\n","const defaultState = {\r\n    chapter: []\r\n}\r\n\r\nconst GET__CHAPTER = \"GET__CHAPTER\"\r\n\r\nexport const chapterReudcer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case GET__CHAPTER:\r\n            return {...state, chapter: action.payload};   \r\n        default:\r\n            return state;\r\n    }\r\n}","const defaultState = {\r\n    product: []\r\n}\r\n\r\nconst PRODUCT_ADD = \"PRODUCT_ADD\"\r\n\r\nexport const productReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_ADD:\r\n            return {...state, product: action.payload};  \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n","import { combineReducers } from \"redux\";\r\nimport { createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { chapterReudcer } from \"./chapterReducer\";\r\nimport { productReducer } from \"./productReducer\";\r\n\r\nconst reducer = combineReducers({\r\n    chapter: chapterReudcer,\r\n    product: productReducer\r\n})\r\n\r\nexport const store = createStore(reducer, composeWithDevTools());","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.sass';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { store } from './Redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}